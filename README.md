## Coffee Machine API
>[!info] Приложения для работы с API кофе машины

#### Функциональные возможности кофемашины
- Работать с напитками:
	1. Показывать список всех доступных ей напитков
	2. Показывать описание напитка по названию напитка
	3. Сохранять новый напиток и его рецепт 

>[!caution] При работе со SwaggerUI, при создании напитка нужно указать юнит ингредиента, однако, по желанию можно его и не указывать, поскольку при создании нового напитка это не играет значения

- Работать с ингрединетами:
	1. Показывать список всех ингредиентов, их кол-во и юнит
	2. Показывать ингредиент по названию ингредиента
	3. Добавлять новые ингредиенты
	4. Прибавлять ингредиенты
	5. Убавлять ингредиенты

>[!caution] В коде можно найти момент, где добавление и убавление ингредиента можно вызывать из контроллера - это сделано для удобства тестирования, проверки работы методов и просто для создания 'ручного управления' при желании

- Работать с заказами
	1. Создавать новый заказ
	2. Показывать список всех заказов
	3. Показывать список всех заказов по имени напитка
	4. Показывать список всех заказов по дате

- Работать со статистикой
	1. Умеет показывать самый популярный напиток по кол-ву заказов
	2. Умеет показывать самый популярный напиток по общему кол-ву покупки

>[!info] Пример: Сделали 3 заказа эспрессо и 2 заказа с капучино
>Однако, за эти 3 заказа эспрессо был заказан по одному разу (суммарно 3), а капучино за эти 2 заказа был взят каждый раз по 5 раз (суммарно 10)
>Отсюда:
>1. Самый популярный по заказу - эспрессо
>2. Самый популярный по кол-ву - капучино

#### Миграции
- Миграция настроена с помощью FlyWay. В данном примере существует всего 2 файла миграции: для создания всех таблиц и для вставки начальных данных в таблицу.
- Файлы миграции в данном примере располагаются по пути: main/resources/db/migration

#### Инструменты и библиотеки
- Java 17
- Spring Boot 3.3.4
- PostgreSQL (Docker image 15 version)
- Maven
- Lombok
- FlyWay (9.22.3)
- Swagger (springdoc: 2:3:0)

#### Конфигурационный файл
```yaml
spring:  
  application:  
    name: coffeemachine  
  
  datasource:  
    driverClassName: org.postgresql.Driver  
    url:
    username:
    password:
  
  jpa:  
    properties:  
      hibernate:  
        dialect: org.hibernate.dialect.PostgreSQLDialect  
  
  flyway:  
    enabled: true  
    baseline-on-migrate: true  
    locations: 'classpath:db/migration'
```

#### Тестирование
- Для тестирования запросов к API можно использовать как Swagger так и Postman